// app/views/reviews/create.js.erb
// Here you will write *javascript* that would be executed by the browser
<% if @covoiturage.errors.any? %>
  // Render new review form with errors
  $('#new_covoiturage').html("<%= j render 'covoiturages/form', covoiturage: @covoiturage %>");
<% else %>
  // Create a paragraph for the new review. But hide it.
  var new_covoiturage = $("<%= j render 'covoiturages/show', covoiturage: @covoiturage, id: @id , review: @review %>").hide();
  // Add it to the DOM, at the end of the existing reviews. It's still hidden.
  $('#covoiturages').append(new_covoiturage);
  // Show the new review with an animation!
  new_covoiturage.slideDown();
  // Remove the text from the content textarea.
  $('#covoiturage_content').val('');
<% end %>
